総会議案書テンプレート
========================
これは，総会議案書のテンプレートリポジトリです．
コマンドを使って簡単に総会議案書リポジトリを生成することができます．

セットアップ手順
--------------------
セットアップですべきことは，次の2つです．

1. テンプレートファイルとGitLabの課題の生成
2. CIのセットアップ

セットアップ作業の1つ目は，
担当者が編集するファイルの間違いを少なくし，
すべての担当部分を課題として管理できるようにするために必要です．
これらの作業は，Pythonスクリプトと設定ファイルを用いることで，簡単に設定することができます．
作業方法は，このあとの「setup.pyについて」や[README\_setup.md](docs/README_setup.md)をご覧ください．

2つ目のCIとは，継続的インテグレーションのことです．
設定を行うと，次のことがコミットのタイミングなどで自動的に行われるようになります．

* 自動ビルドしたPDFを，Slackにアップロード
* 誤字や表記ゆれの指摘をGitLabのissueにコメント

人手でやることを減らせるので，設定することを推奨します．
リポジトリを作成したら一番に設定しましょう．
作業方法は，このあとの「Werckerについて」や[README\_CI.md](docs/README_CI.md)をご覧ください．

setup.pyについて
---------------------
年度などの初期設定をしたり，テンプレートファイルを生成するツールです．
soukai-templateからコピーした直後や，各局のブランチを作るときに使ってください．

Pythonの動作環境は以下の通りです．
- Python ver3.7
- 必須ライブラリ
    - jinja2
    - pyyaml

必須ライブラリは
```shell
$ pip install jinja2
$ pip install pyyaml
```
でインストールしてください

soukai-templateからコピーした後の作業の大まかな流れは以下のようになります．
1. 以下のコマンドを実行して，年度などの情報を設定する．
    ```shell
    $ cd setup
    $ python setup.py init
    ```
1. 生成されたassignee.ymlを書き換える．
1. 以下のコマンドを実行して，予めsubsection以降の文書を書くためのテンプレートファイルを生成する．
    ```shell
    $ python setup.py g
    ```
1. 以下のコマンドを実行して，GitLabのリポジトリにissueを発行する．
    ```shell
    $ python setup.py i
    ```

必ずこのツールを使って，予めsubsection以降の文書を書くためのファイルを生成して，
それを編集するように呼びかけてください．
これはコンフリクトを避けるためです．
タスクを作成する時に編集するべきファイルパスを明示しておくと混乱が減ると思われます．

詳しくは，[README\_setup.md](docs/README_setup.md)を見てください．

CIについて
-----------------------
継続的インテグレーションを支援するサービスとしてGitLab PipelinesとWerckerが利用できます．
これらを用いて，総会文書のビルドを自動化しています．
CIのセットアップ方法については，[README\_CI.md](docs/README_CI.md)に詳しく紹介しています．
